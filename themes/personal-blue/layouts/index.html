{{- define "main" -}}
<style>
  .intro {
    display: flex;
    flex-direction: column;
    align-items: flex-start;

    margin: 0 auto;
    padding-top: 4rem;
  }

  @media screen and (min-width: calc(700px + 20rem)) {
    .intro {
      flex-direction: row;
      align-items: center;

      padding-left: 10rem;
      padding-right: 10rem;
    }
  }

  .intro__image {
    width: 72px;
    border-radius: 100%;
    margin-right: 1rem;
  }

  .intro__about p {
    margin: 0 0 0.1rem 0;
  }

  .intro__name {
    font-size: 1.1rem;
    font-weight: bold;
  }

  .intro__email {
    display: flex;
  }

  .intro__email button {
    margin-left: 0.5rem;
  }
</style>

<div class="intro">
  <div class="intro__image">
    {{ with $author_name := .Site.Params.author.name }}
    {{ $author_image := resources.Get (printf "%s/%s.jpg" "images" (replace $author_name " " "_" | lower)) }}
    {{ $author_image := $author_image.Fit "144x144" }}
    <img src="{{ $author_image.RelPermalink }}" alt="Picture of {{ $author_name }}" class="intro__image">
    {{ end }}
  </div>

  <div class="intro__about">
    <p class="intro__name">{{ .Site.Params.author.name }}</p>

    <p>Web, Mobile & Desktop development â€” available for hire.</p>

    <div class="intro__email">
      <p>{{ .Site.Params.author.email }}</p>
      <button class="copy-button">copy</button>
    </div>
  </div>
</div>

<script>
  let email = document.querySelector(".intro__email p").textContent;
  let button = document.querySelector(".copy-button");

  button.addEventListener("click", function() {
    navigator.clipboard
      .writeText(email)
      .then(copiedText());
  })

  function copiedText() {
    button.textContent = "copied";

    setTimeout(function() {
      button.textContent = "copy";
    }, 2500)
  }
</script>

{{- end -}}

